<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<link  rel=stylesheet type=text/css href="tictactoe.css">

</head>
<body>
	<div class="parent-container">
	<div class="child"><p>TicTacToe Game</p></div>
		<div class="child">
			<canvas id="Canvas1" onclick="onClick(id,0,0)" width="33" height="33" style="border:1px solid #000000;"></canvas>
			<canvas id="Canvas2" onclick="onClick(id,0,1)" width="33" height="33" style="border:1px solid #000000;"></canvas>
			<canvas id="Canvas3" onclick="onClick(id,0,2)" width="33" height="33" style="border:1px solid #000000;"></canvas></div>
			<div class="child">
				<canvas id="Canvas4" onclick="onClick(id,1,0)" width="33" height="33" style="border:1px solid #000000;"></canvas>
			<canvas id="Canvas5" onclick="onClick(id,1,1)" width="33" height="33" style="border:1px solid #000000;"></canvas>
			<canvas id="Canvas6" onclick="onClick(id,1,2)" width="33" height="33" style="border:1px solid #000000;"></canvas>
			</div>
			<div class="child">
				<canvas id="Canvas7" onclick="onClick(id,2,0)" width="33" height="33" style="border:1px solid #000000;"></canvas>
			<canvas id="Canvas8" onclick="onClick(id,2,1)" width="33" height="33" style="border:1px solid #000000;"></canvas>
			<canvas id="Canvas9" onclick="onClick(id,2,2)" width="33" height="33" style="border:1px solid #000000;"></canvas></div>
			<input type="button" width="100px" value = "Refresh" onclick="history.go(0)" />
			</div>
 <script type="text/javascript">
 		var count=0;
 		var arr=[[0,0,0],[0,0,0],[0,0,0]];
 		function onClick(id1,i,j)
 		{
 			if(document.getElementById(id1).hasAttribute('disabled')==false)
 			if(count==0)
 			{
 			drawX(id1,i,j);
 			count=1;
 			}
 			else
 			{
 				drawO(id1,i,j);
 				
 				count=0;
 			}
 		}
function drawX(id1,i,j)
{
			var ctx=document.getElementById(id1).getContext("2d");
			ctx.moveTo(5,5);
			ctx.lineTo(27,27);
			ctx.moveTo(27,5);
			ctx.lineTo(5,27);
			ctx.stroke();	
			document.getElementById(id1).setAttribute('disabled',true);
			win("x",i,j);	
		}
function drawO(id1,i,j)
{
			var ctx=document.getElementById(id1).getContext("2d");
			ctx.beginPath();
			ctx.arc(15,15,7,0,2*Math.PI);
			ctx.stroke();
			document.getElementById(id1).setAttribute('disabled',true);
			win("o",i,j);	
		}
		function win(element,i,j)
		{
			arr[i][j]=element;
			var flag=0;
			for(var x=0;x<3;x++)
			{
				flag=0;
				for(var y=0;y<3;y++)
				{
					if(arr[x][y]==element)
					{
						flag+=1;
					}
				}
				if(flag==3)
				{
					break;
				}
			}
			var flag1=0;
			for(var x=0;x<3;x++)
			{
				flag1=0;
				for(var y=0;y<3;y++)
				{
					if(arr[y][x]==element)
					{
						flag1+=1;
					}
				}
				if(flag1==3)
				{
					break;
				}
			}
			var flag2=0;
			for(var x=0,y=0;y<3 && x<3;y++,x++)
			{
				if(arr[x][y]==element)
				{
					flag2+=1;
				}
			}
			var flag3=0;
			for(var x=0,y=2;y>=0 && x<3;x++,y--)
			{
				if(arr[x][y]==element)
				{
					flag3+=1;
				}
			}
			if((flag==3 || flag1==3 || flag2==3 || flag3==3) && element=="x")
			{
				alert("Player1 won");
			}
			if((flag==3 || flag1==3 || flag2==3 || flag3==3) && element=="o")
			{
				alert("Player2 won");
			}
	}
	</script>
	</div>
</body>
</html>
